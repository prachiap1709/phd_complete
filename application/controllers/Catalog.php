<?phpdefined('BASEPATH') OR exit('No direct script access allowed');class Catalog extends CI_Controller {	function __construct() {        parent::__construct();		error_reporting(0);				/* $this->keyId 		= EBS_KEY_ID;		$this->keySecret 	= EBS_KEY_SECRET; */		$this->load->library('EBS_Api');		$this->load->library('Mandrill_Api');				$this->load->model('catalog_model');		$this->load->model('admin_model');    }		public function index()	{		$data['module'] = 'home';				$data['mtitle'] 	  	= 'Home - '.WEBNAME;		$data['mdescription'] 	= 'Home';				$data['main_content']   = 'home';		$this->load->view('common/template_front.php',$data);	}		public function upcoming_entrance_test()	{		$data['module'] = 'listing';				$data['mtitle'] 	  	= 'Upcoming Entrance Test - '.WEBNAME;		$data['mdescription'] 	= 'Upcoming Entrance Test - '.WEBNAME;				//$data['result'] 		= $this->admin_model->viewrecord('','consultant','Active');		$data['main_content']   = 'upcoming-entrance-test';		$this->load->view('common/template_front.php',$data);	}		public function upcoming_entrance_test_detail()	{		//$adminid = base64url_decode($this->uri->segment(2));		//$schoolid = $this->uri->segment(2);		$data['module'] = 'upcoming_entrance_test_detail';		//preTagdata($bookinginfo);		//exit;				$data['adminid'] 		  	= $adminid;		//$data['result'] = $result 	= getschoollist($schoolid);				$data['mtitle'] 	  		= $result->fld_school_name.'- School - '.WEBNAME;		$data['mdescription'] 		= $result->fld_school_name.'- School - '.WEBNAME;				$data['main_content']   = 'upcoming-entrance-test-detail';		$this->load->view('common/template_front.php',$data);	}		public function preparation_for_entrance()	{		$data['module'] = 'preparation_for_entrance';				$data['mtitle'] 	  	= 'Preparation For Entrance - '.WEBNAME;		$data['mdescription'] 	= 'Preparation For Entrance - '.WEBNAME;				$data['main_content']   = 'preparation-for-entrance';		$this->load->view('common/template_front.php',$data);	}		public function sample_question()	{		$data['module'] = 'sample_question';				$data['mtitle'] 	  	= 'Sample Question - '.WEBNAME;		$data['mdescription'] 	= 'Sample Question - '.WEBNAME;				$data['main_content']   = 'sample-question';		$this->load->view('common/template_front.php',$data);	}		public function interview_preparation()	{		$data['module'] = 'interview_preparation';				$data['mtitle'] 	  	= 'Interview Preparation - '.WEBNAME;		$data['mdescription'] 	= 'Interview Preparation - '.WEBNAME;				$data['main_content']   = 'interview-preparation';		$this->load->view('common/template_front.php',$data);	}		public function register_as_a_guide()	{		if($this->session->userdata('usr_logged_in') == true)		{			redirect(base_url().'account/');			exit;		}		else		{			$data['module'] = 'register_as_a_guide';						$data['mtitle'] 	  	= 'Register as a guide - '.WEBNAME;			$data['mdescription'] 	= 'Register as a guide - '.WEBNAME;						$data['main_content']   = 'register-as-a-guide';			$this->load->view('common/template_front.php',$data);		}	}		public function search_for_guide()	{		$data['module'] = 'search_for_guide';				$data['mtitle'] 	  	= 'Search For Guide - '.WEBNAME;		$data['mdescription'] 	= 'Search For Guide - '.WEBNAME;				$data['main_content']   = 'search-for-guide';		$this->load->view('common/template_front.php',$data);	}		public function register_as_a_recruiter()	{		if($this->session->userdata('usr_logged_in') == true)		{			redirect(base_url().'recruiter/');			exit;		}		else		{			$data['module'] = 'register_as_a_recruiter';						$data['mtitle'] 	  	= 'Register as a recruiter - '.WEBNAME;			$data['mdescription'] 	= 'Register as a recruiter - '.WEBNAME;						$data['main_content']   = 'register-as-a-recruiter';			$this->load->view('common/template_front.php',$data);		}	}	public function job_listing()	{		$data['module'] = 'job_listing';				$data['mtitle'] 	  	= 'Job Listing - '.WEBNAME;		$data['mdescription'] 	= 'Job Listing - '.WEBNAME;				$data['main_content']   = 'job-listing';		$this->load->view('common/template_front.php',$data);	}		public function topic_selection()	{		$data['module'] = 'topic_selection';				$data['mtitle'] 	  	= 'Topic Selection - '.WEBNAME;		$data['mdescription'] 	= 'Topic Selection - '.WEBNAME;				$data['main_content']   = 'topic-selection';		$this->load->view('common/template_front.php',$data);	}		public function research_proposal()	{		$data['module'] = 'research_proposal';				$data['mtitle'] 	  	= 'Research Proposal - '.WEBNAME;		$data['mdescription'] 	= 'Research Proposal - '.WEBNAME;				$data['main_content']   = 'research-proposal';		$this->load->view('common/template_front.php',$data);	}		public function data_analysis()	{		$data['module'] = 'data_analysis';				$data['mtitle'] 	  	= 'Data Analysis - '.WEBNAME;		$data['mdescription'] 	= 'Data Analysis - '.WEBNAME;				$data['main_content']   = 'data-analysis';		$this->load->view('common/template_front.php',$data);	}		public function software_implementation()	{		$data['module'] = 'software_implementation';				$data['mtitle'] 	  	= 'Software Implementation - '.WEBNAME;		$data['mdescription'] 	= 'Software Implementation - '.WEBNAME;				$data['main_content']   = 'software-implementation';		$this->load->view('common/template_front.php',$data);	}		public function thesis_chapters()	{		$data['module'] = 'thesis_chapters';				$data['mtitle'] 	  	= 'Thesis Chapters - '.WEBNAME;		$data['mdescription'] 	= 'Thesis Chapters - '.WEBNAME;				$data['main_content']   = 'thesis-chapters';		$this->load->view('common/template_front.php',$data);	}		public function research_paper_writing()	{		$data['module'] = 'research_paper_writing';				$data['mtitle'] 	  	= 'Research Paper Writing - '.WEBNAME;		$data['mdescription'] 	= 'Research Paper Writing - '.WEBNAME;				$data['main_content']   = 'research-paper-writing';		$this->load->view('common/template_front.php',$data);	}		public function scopus()	{		$data['module'] = 'scopus';				$data['mtitle'] 	  	= 'Scopus - '.WEBNAME;		$data['mdescription'] 	= 'Scopus - '.WEBNAME;				$data['main_content']   = 'scopus';		$this->load->view('common/template_front.php',$data);	}		public function scl_indexed()	{		$data['module'] = 'scl_indexed';				$data['mtitle'] 	  	= 'SCI Indexed - '.WEBNAME;		$data['mdescription'] 	= 'SCI Indexed - '.WEBNAME;				$data['main_content']   = 'scl-indexed';		$this->load->view('common/template_front.php',$data);	}		public function ugc_care()	{		$data['module'] = 'ugc_care';				$data['mtitle'] 	  	= 'UGC Care - '.WEBNAME;		$data['mdescription'] 	= 'UGC Care - '.WEBNAME;				$data['main_content']   = 'ugc-care';		$this->load->view('common/template_front.php',$data);	}		public function abdc_journal()	{		$data['module'] = 'abdc_journal';				$data['mtitle'] 	  	= 'ABDC Journal - '.WEBNAME;		$data['mdescription'] 	= 'ABDC Journal - '.WEBNAME;				$data['main_content']   = 'abdc-journal';		$this->load->view('common/template_front.php',$data);	}		public function register_as_peer_reviewer()	{		if($this->session->userdata('usr_logged_in') == true)		{			redirect(base_url().'account/');			exit;		}		else		{			$data['module'] = 'register_as_peer_reviewer';						$data['mtitle'] 	  	= 'Register As Peer Reviewer - '.WEBNAME;			$data['mdescription'] 	= 'Register As Peer Reviewer - '.WEBNAME;						$data['main_content']   = 'register-as-peer-reviewer';			$this->load->view('common/template_front.php',$data);		}	}		public function browse_reviewers()	{		$data['module'] = 'browse_reviewers';				$data['mtitle'] 	  	= 'Browse Reviewers - '.WEBNAME;		$data['mdescription'] 	= 'Browse Reviewers - '.WEBNAME;				$data['main_content']   = 'browse-reviewers';		$this->load->view('common/template_front.php',$data);	}		public function thesis_printing()	{		$data['module'] = 'browse_reviewers';				$data['mtitle'] 	  	= 'Thesis Printing - '.WEBNAME;		$data['mdescription'] 	= 'Thesis Printing - '.WEBNAME;				$data['main_content']   = 'thesis-printing';		$this->load->view('common/template_front.php',$data);	}		public function thesis_binding()	{		$data['module'] = 'thesis_binding';				$data['mtitle'] 	  	= 'Thesis Binding - '.WEBNAME;		$data['mdescription'] 	= 'Thesis Binding - '.WEBNAME;				$data['main_content']   = 'thesis-binding';		$this->load->view('common/template_front.php',$data);	}		public function language_editing()	{		$data['module'] = 'language_editing';				$data['mtitle'] 	  	= 'Language Editing - '.WEBNAME;		$data['mdescription'] 	= 'Language Editing - '.WEBNAME;				$data['main_content']   = 'language-editing';		$this->load->view('common/template_front.php',$data);	}		public function resetpassword()	{		if($this->session->userdata('usr_logged_in') == true)		{			redirect(base_url().'account/');			exit;		}		else		{			$code = $this->uri->segment(3);			$userid = $this->uri->segment(4);			$viewact = '';			if($this->uri->segment(5)!="")			{				$viewact = $this->uri->segment(5);			}						$result_verify = $this->catalog_model->verify($code,$userid);			if($result_verify=='danger')			{				echo "<script>alert('Link Expired!'); window.location.href='".base_url()."';</script>";			}						$data['module'] 	= 'resetpassword';			$data['userid'] 	= $userid;			$data['verifycode'] = $code;			$data['viewact'] 	= $viewact;						$data['mtitle'] 	  	= 'Reset Password - '.WEBNAME;			$data['mdescription'] 	= 'Reset Password - '.WEBNAME;						$data['main_content'] = 'resetpassword';			$this->load->view('common/template_front.php',$data);		}	}		public function signin()	{		if($this->session->userdata('usr_logged_in') == true)		{			redirect(base_url().'account/');			exit;		}		else		{						$data['module'] 	= 'signin';			$data['userid'] 	= $userid;			$data['verifycode'] = $code;						$data['mtitle'] 	  	= 'Sign In - '.WEBNAME;			$data['mdescription'] 	= 'Sign In - '.WEBNAME;						$data['main_content']   = 'signin';			$this->load->view('common/template_front.php',$data);		}	}		public function register()	{		if($this->session->userdata('usr_logged_in') == true)		{			redirect(base_url().'account/');			exit;		}		else		{						$data['module'] 	= 'register';			$data['userid'] 	= $userid;			$data['verifycode'] = $code;						$data['mtitle'] 	  	= 'Sign Up - '.WEBNAME;			$data['mdescription'] 	= 'Sign Up - '.WEBNAME;						$data['main_content']   = 'signup';			$this->load->view('common/template_front.php',$data);		}	}		/* Dashboard Functions */	public function account()	{		if($this->session->userdata('usr_logged_in') == true)		{			$data['module'] = 'account';						$data['mtitle'] 	  	= 'Dashboard - '. WEBNAME;			$data['mdescription'] 	= 'Dashboard - '. WEBNAME;						//$data['result_booking'] 	= $this->admin_model->viewbooking('','',$this->session->userdata('usr_id'),'Paid','',date('Y-m-d'));						$data['main_content'] = 'dashboard';			$this->load->view('common/template_account.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function profile()	{		if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'USER')		{			$act =  $this->uri->segment(2);						$data['module'] = 'profile';			$data['act'] 	= $act;						$data['mtitle'] 	  	= 'My Profile - '. WEBNAME;			$data['mdescription'] 	= 'My Profile - '. WEBNAME;						$data['main_content'] = 'profile';			$this->load->view('common/template_account.php',$data);		}		else if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'GUIDE')		{			$act =  $this->uri->segment(2);						$data['module'] = 'profile';			$data['act'] 	= $act;						$data['mtitle'] 	  	= 'My Profile - '. WEBNAME;			$data['mdescription'] 	= 'My Profile - '. WEBNAME;						$data['main_content'] = 'profile';			$this->load->view('common/template_guide.php',$data);		}		else if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'REVIEWER')		{			$act =  $this->uri->segment(2);						$data['module'] = 'profile';			$data['act'] 	= $act;						$data['mtitle'] 	  	= 'My Profile - '. WEBNAME;			$data['mdescription'] 	= 'My Profile - '. WEBNAME;						$data['main_content'] = 'profile';			$this->load->view('common/template_reviewer.php',$data);		}		else if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'RECRUITER')		{			$act =  $this->uri->segment(2);						$data['module'] = 'profile';			$data['act'] 	= $act;						$data['mtitle'] 	  	= 'My Profile - '. WEBNAME;			$data['mdescription'] 	= 'My Profile - '. WEBNAME;						$data['main_content'] = 'profile';			$this->load->view('common/template_recruiter.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function my_schools()	{		if($this->session->userdata('usr_logged_in') == true)		{			$data['module'] = 'my_schools';						$data['mtitle'] 	  	= 'My Schools - '. WEBNAME;			$data['mdescription'] 	= 'My Schools - '. WEBNAME;						//$data['result_booking'] 	= $this->admin_model->viewbooking('','',$this->session->userdata('usr_id'),'Paid');						$data['main_content'] = 'my_schools';			$this->load->view('common/template_account.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}			public function user_contacted()	{		if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'GUIDE')		{			$data['module'] = 'user_contacted';						$data['mtitle'] 	  	= 'My Guide List - '. WEBNAME;			$data['mdescription'] 	= 'My Guide List - '. WEBNAME;						//$data['result_booking'] 	= $this->admin_model->viewbooking('','',$this->session->userdata('usr_id'),'Paid');						$data['main_content'] = 'user_contacted';			$this->load->view('common/template_guide.php',$data);		}		else if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'REVIEWER')		{			$data['module'] = 'user_contacted';						$data['mtitle'] 	  	= 'User Contacted - '. WEBNAME;			$data['mdescription'] 	= 'User Contacted - '. WEBNAME;						//$data['result_booking'] 	= $this->admin_model->viewbooking('','',$this->session->userdata('usr_id'),'Paid');						$data['main_content'] = 'user_contacted';			$this->load->view('common/template_reviewer.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function posted_job()	{		if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'RECRUITER')		{			$data['module'] = 'posted_job';						$data['mtitle'] 	  	= 'Posted Job - '. WEBNAME;			$data['mdescription'] 	= 'Posted Job - '. WEBNAME;											$data['main_content'] = 'posted_job';			$this->load->view('common/template_recruiter.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}	public function add_new_job()	{		if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'RECRUITER')		{			$data['module'] = 'add_new_job';						$data['mtitle'] 	  	= 'Add New Job - '. WEBNAME;			$data['mdescription'] 	= 'Add New Job - '. WEBNAME;						$data['main_content'] = 'add_new_job';			$this->load->view('common/template_recruiter.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function job_apply()	{		if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'USER')		{			$data['module'] = 'job_apply';						$data['mtitle'] 	  	= 'Job Apply - '. WEBNAME;			$data['mdescription'] 	= 'Job Apply - '. WEBNAME;											$data['main_content'] = 'job_apply';			$this->load->view('common/template_account.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function entrance_test()	{		if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'USER')		{			$data['module'] = 'entrance_test';						$data['mtitle'] 	  	= 'Entrance Test - '. WEBNAME;			$data['mdescription'] 	= 'Entrance Test - '. WEBNAME;											$data['main_content'] = 'entrance_test';			$this->load->view('common/template_account.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function my_sample_papers()	{		if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'USER')		{			$data['module'] = 'my_sample_papers';						$data['mtitle'] 	  	= 'My Sample Papers - '. WEBNAME;			$data['mdescription'] 	= 'My Sample Papers - '. WEBNAME;											$data['main_content'] = 'my_sample_papers';			$this->load->view('common/template_account.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function browse_reviewer()	{		if($this->session->userdata('usr_logged_in') == true)		{			$data['module'] = 'browse_reviewer';						$data['mtitle'] 	  	= 'Browse Reviewer - '. WEBNAME;			$data['mdescription'] 	= 'Browse Reviewer - '. WEBNAME;									$data['main_content'] = 'browse_reviewer';			$this->load->view('common/template_reviewer.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function enquiries()	{		if($this->session->userdata('usr_logged_in') == true)		{			$data['module'] = 'enquiries';						$data['mtitle'] 	  	= 'Enquiries - '. WEBNAME;			$data['mdescription'] 	= 'Enquiries - '. WEBNAME;						//$data['result_booking'] 	= $this->admin_model->viewbooking('','',$this->session->userdata('usr_id'),'Paid');						$data['main_content'] = 'enquiries';			$this->load->view('common/template_account.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function changepassword()	{		if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'USER')		{			$data['module'] = 'changepassword';						$data['mtitle'] 	  	= 'Change Password - '. WEBNAME;			$data['mdescription'] 	= 'Change Password - '. WEBNAME;						$data['main_content'] = 'changepassword';			$this->load->view('common/template_account.php',$data);		}		else if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'GUIDE')		{			$data['module'] = 'changepassword';						$data['mtitle'] 	  	= 'Change Password - '. WEBNAME;			$data['mdescription'] 	= 'Change Password - '. WEBNAME;						$data['main_content'] = 'changepassword';			$this->load->view('common/template_guide.php',$data);		}		else if($this->session->userdata('usr_logged_in') == true && $this->session->userdata('usr_type') == 'REVIEWER')		{			$data['module'] = 'changepassword';						$data['mtitle'] 	  	= 'Change Password - '. WEBNAME;			$data['mdescription'] 	= 'Change Password - '. WEBNAME;						$data['main_content'] = 'changepassword';			$this->load->view('common/template_reviewer.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function settings()	{		if($this->session->userdata('usr_logged_in') == true)		{			$data['module'] = 'settings';						$data['mtitle'] 	  	= 'Settings - '. WEBNAME;			$data['mdescription'] 	= 'Settings - '. WEBNAME;						$data['main_content'] = 'settings';			$this->load->view('common/template_account.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}		public function logout()	{		$this->session->unset_userdata('__ci_last_regenerate');		$this->session->unset_userdata('usr_logged_in');		$this->session->unset_userdata('usr_id');		$this->session->unset_userdata('usr_name');		$this->session->unset_userdata('usr_email');		$this->session->unset_userdata('usr_type');		redirect(base_url());		exit;	}	/* Dashboard Functions */		public function guide()	{		if($this->session->userdata('usr_logged_in') == true)		{			$data['module'] = 'guide';						$data['mtitle'] 	  	= 'Dashboard - '. WEBNAME;			$data['mdescription'] 	= 'Dashboard - '. WEBNAME;						$data['main_content'] = 'dashboard';			$this->load->view('common/template_guide.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}	public function reviewer()	{		if($this->session->userdata('usr_logged_in') == true)		{			$data['module'] = 'reviewer';						$data['mtitle'] 	  	= 'Dashboard - '. WEBNAME;			$data['mdescription'] 	= 'Dashboard - '. WEBNAME;						$data['main_content'] = 'dashboard';			$this->load->view('common/template_reviewer.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}	public function recruiter()	{		if($this->session->userdata('usr_logged_in') == true)		{			$data['module'] = 'recruiter';						$data['mtitle'] 	  	= 'Dashboard - '. WEBNAME;			$data['mdescription'] 	= 'Dashboard - '. WEBNAME;						$data['main_content'] = 'dashboard';			$this->load->view('common/template_recruiter.php',$data);		}		else		{			redirect(base_url().'sign-in');		}	}				}